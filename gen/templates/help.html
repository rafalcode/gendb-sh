{% extends "layout.html" %}

{% block body %}
<div class="col-md-6">

</div>
<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
	  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingGeno">
      <h4 class="panel-title">
        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
          Creating and managing projects
        </a>
      </h4>
    </div>
    <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingProj">
      <div class="panel-body">
				To ceate a project visit the <a href="{{url_for('add_project')}}">project creation page</a>, enter a title and a description and click <code>Create</code>. The name and description are compulsory and duplicate project names are not allowed. When you create a project, you automatically become the project owner. To manage the project, go to the <a href="{{url_for('projects')}}">projects page</a> and select the one you want to manage. On the single project page you will see the project name, description and collaborators. You can add new members, delete them or delete the whole project using the buttons. On the right side of the page you can see project statistics and the controls used to upload and download files.
      </div>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="indivsFile">
      <h4 class="panel-title">
        <a class="collapesed" data-toggle="collapse" data-parent="#accordion" href="#collapseIndivs" aria-expanded="false" aria-controls="collapseIndivs">
          Uploading "Individual" Files
        </a>
      </h4>
    </div>
    <div id="collapseIndivs" class="panel-collapse collapse" role="tabpanel" aria-labelledby="indivsFile">
      <div class="panel-body">
				<a href="/static/ind.csv" class="btn btn-primary"> Download Sample File</a>
				<h3>File Format</h3>
				The "individuals" file is the first file that needs to be uploaded to a project. The system will not allow other files to be uploaded before an "individuals" file is uploaded.
The file needs to have two columns. 
<table class="table table-bordered table-condensed">
      <thead>
        <tr>
          <th>Option</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">File extension</th>
          <td>.csv</td>
        </tr>
        <tr>
          <th scope="row">Number of columns</th>
          <td>2</td>
        </tr>
        <tr>
          <th scope="row">Delimiters</th>
          <td>Space, Tab or Comma</td>
        </tr>
				<tr>
					<th scope="row">Header needed</th>
					<td><strong>NO</strong></td>
				</tr>
				<tr>
					<th scope="row">Column 1</th>
					<td>Contains individual IDs. For example <code>YRK_11_33</code></td>
				</tr>
				<tr>
					<th scope="row">Column 2</th>
					<td>Contains gender digit for the corresponding ID. For example <code>1</code>,<code>2</code> or <code>-1</code> for
					unknown.</td>
				</tr>

      </tbody>
    </table>

		<h3>Infomration Messages After Upload</h3>
		Depending on the validity of the file, several types of messages may appear after upload. Seeing a "Individuals file uploaded successfully" message means that the file was transferred to the server without any errors. It does not mean that any entries have been written to the database. Parsin may fail at this stage. If this happens an error message describing the error will appear. Otherwise a message confirming the entry of data to the database will be presented.
		<br/><br/>
		Here are some exaple screenshots of messages:
		<br />
		<div class="well"><img src="/static/bad_indiv.png" /></div>
		<div class="well"><img src="/static/good_indiv.png" /></div>

      </div>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingGeno">
      <h4 class="panel-title">
        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          Uploading "Genotype" Files
        </a>
      </h4>
    </div>
    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingGeno">
      <div class="panel-body">
<a href="/static/geno_1.csv" class="btn btn-primary"> Download Sample File</a>
				<h3>File Format</h3>
				Genotype files can be uploaded after intividual IDs are present in the database. This file has to contain three or four columns, depending on the delimiter being used. For example if the pair is represented as <code>A/G</code>, the file will have three columns. The pair can also be represented as <code>A,G</code> or <code>A G</code> or <code>A__TAB__G</code> meaning the file will have four columns.
<table class="table table-bordered table-condensed">
      <thead>
        <tr>
          <th>Option</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">File extension</th>
          <td>.csv</td>
        </tr>
        <tr>
          <th scope="row">Number of columns</th>
          <td>3 or 4</td>
        </tr>
        <tr>
          <th scope="row">Delimiters</th>
          <td>Space, Tab or Comma</td>
        </tr>
				<tr>
					<th scope="row">Header needed</th>
					<td><strong>NO</strong></td>
				</tr>
				<tr>
					<th scope="row">Column 1</th>
					<td>Contains individual IDs. For example <code>YRK_11_33</code></td>
				</tr>
				<tr>
					<th scope="row">Column 2</th>
					<td>Contains SNP. For example <code>rs4280164</code></td>
				</tr>
				<tr>
					<th scope="row">Column 3/4</th>
					<td>Contains the value. For example <code>A/G</code> or <code>A,G</code></td>
				</tr>


      </tbody>
    </table>

		<h3>Infomration Messages After Upload</h3>
		When uploading a genotype file, some rules need to be followed. The system will not accept a file which contains duplicate genotypes. A message will be displayed with the duplicate shown. An example screenshot can be seen below. Individual IDs should match the IDs in the database. If a missing ID is detected, the data wont be written to the database and the missing IDs show in the error message.
		<br/><br/>
		Here are some exaple screenshots of messages:
		<br />
		<div class="well"><img src="/static/missing_id.png" /></div>
		<div class="well"><img src="/static/duplicate_geno.png" /></div>

      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingThree">
      <h4 class="panel-title">
        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
        	Uploading Phenotype Files
        </a>
      </h4>
    </div>
    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
      <div class="panel-body">
<a href="/static/pheno.csv" class="btn btn-primary"> Download Sample File</a>
				<h3>File Format</h3>
			 Phenotype files container a variable number of columns with a minimum of two. A header is also required for this file. The first column contains an individual ID. The second and subsequent columns contain phenotype values. The header contains the name for each phenotype value and is required for every column that contains phenotype data.
				<table class="table table-bordered table-condensed">
      <thead>
        <tr>
          <th>Option</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">File extension</th>
          <td>.csv</td>
        </tr>
        <tr>
          <th scope="row">Number of columns</th>
          <td>2 or more</td>
        </tr>
        <tr>
          <th scope="row">Delimiters</th>
          <td>Space, Tab or Comma</td>
        </tr>
				<tr>
					<th scope="row">Header needed</th>
					<td><strong>YES</strong></td>
				</tr>
				<tr>
					<th scope="row">Column 1</th>
					<td>Contains individual IDs. For example <code>YRK_11_33</code></td>
				</tr>
				<tr>
					<th scope="row">Column 2..N</th>
					<td>Contains Phenotype value.</td>
				</tr>
      </tbody>
    </table>

    </div>
  </div>
</div>


{% endblock %}

